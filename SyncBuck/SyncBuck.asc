Version 4
SHEET 1 1728 828
WIRE 240 64 0 64
WIRE 368 64 336 64
WIRE 496 64 368 64
WIRE 640 64 496 64
WIRE 848 64 720 64
WIRE 928 64 848 64
WIRE 992 64 928 64
WIRE 368 96 368 64
WIRE 496 112 496 64
WIRE 848 112 848 64
WIRE 992 112 992 64
WIRE 0 128 0 64
WIRE 320 144 320 112
WIRE 320 144 288 144
WIRE 448 192 416 192
WIRE 496 224 496 208
WIRE 496 224 416 224
WIRE 0 272 0 208
WIRE 496 272 496 224
WIRE 848 272 848 176
WIRE 992 272 992 192
WIRE 1472 400 1408 400
WIRE 1584 400 1552 400
WIRE 112 416 0 416
WIRE 1296 416 624 416
WIRE 0 448 0 416
WIRE 624 448 624 416
WIRE 1408 448 1408 400
WIRE 1296 464 1296 416
WIRE 1360 464 1296 464
WIRE 1360 512 1328 512
WIRE 1328 544 1328 512
WIRE 0 560 0 528
WIRE 624 560 624 528
WIRE 1408 560 1408 528
WIRE 1456 560 1408 560
WIRE 1296 608 624 608
WIRE 1488 608 1408 608
WIRE 1584 608 1568 608
WIRE 624 640 624 608
WIRE 1408 640 1408 608
WIRE 1296 656 1296 608
WIRE 1360 656 1296 656
WIRE 1360 704 1328 704
WIRE 1328 736 1328 704
WIRE 624 752 624 720
WIRE 1408 768 1408 720
WIRE 1472 768 1408 768
FLAG 0 272 0
FLAG 496 272 0
FLAG 848 272 0
FLAG 992 272 0
FLAG 288 144 G1
FLAG 368 96 E1
FLAG 928 64 Out
FLAG 0 560 0
FLAG 624 560 0
FLAG 624 752 0
FLAG 1328 736 0
FLAG 1328 544 0
FLAG 112 416 Triangle
FLAG 1584 400 G1
FLAG 1456 560 E1
FLAG 1584 608 G2
FLAG 1472 768 E2
FLAG 416 192 G2
FLAG 416 224 E2
SYMBOL voltage 0 112 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName Vin
SYMATTR Value 12
SYMBOL nmos 240 112 R270
SYMATTR InstName M1
SYMATTR Value BSB012N03LX3
SYMBOL ind 624 80 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 1µ
SYMATTR SpiceLine Rser=1m
SYMBOL cap 832 112 R0
SYMATTR InstName C1
SYMATTR Value 33µ
SYMATTR SpiceLine Rser=0.25
SYMBOL res 976 96 R0
SYMATTR InstName R1
SYMATTR Value 0.5
SYMBOL bv 0 432 R0
SYMATTR InstName Tri
SYMATTR Value V=0.5 + asin(sin(2*Pi*Fsw*Time))/Pi
SYMBOL bv 624 432 R0
SYMATTR InstName E_PWMa
SYMATTR Value V=15*tanh(Gain*(Duty-V(Triangle)))
SYMBOL bv 624 624 R0
SYMATTR InstName E_PWMb
SYMATTR Value V=15*tanh(Gain*(-(Duty+0.03)+V(Triangle)))
SYMBOL e 1408 432 R0
SYMATTR InstName Dr1
SYMATTR Value 1
SYMBOL e 1408 624 R0
SYMATTR InstName Dr2
SYMATTR Value 1
SYMBOL res 1456 416 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName Rg1
SYMATTR Value 0.25
SYMBOL res 1472 624 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName Rg2
SYMATTR Value 0.25
SYMBOL nmos 448 112 R0
SYMATTR InstName M2
SYMATTR Value BSB012N03LX3
TEXT 1024 40 Left 2 !.ic V(Out)=0
TEXT -344 136 Left 2 !.param Duty = 0.28\n.param Gain = 100\n.param Fsw= 1.0Meg
TEXT -344 352 Left 2 !.tran 0 180us 0us 1ns startup uic
